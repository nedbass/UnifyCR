

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Assumptions &mdash; UnifyCR 0.1 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="_static/theme_overrides.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="UnifyCR 0.1 documentation" href="index.html"/>
        <link rel="next" title="Build &amp; I/O Interception" href="build-intercept.html"/>
        <link rel="prev" title="Definitions" href="definitions.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html">
          

          
            
            <img src="_static/unify-logo.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">User Guide</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="definitions.html">Definitions</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Assumptions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#application-behavior">Application Behavior</a></li>
<li class="toctree-l2"><a class="reference internal" href="#consistency-model">Consistency Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="#file-system-behavior">File System Behavior</a></li>
<li class="toctree-l2"><a class="reference internal" href="#system-characteristics">System Characteristics</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="build-intercept.html">Build &amp; I/O Interception</a></li>
<li class="toctree-l1"><a class="reference internal" href="api-mount.html">Mounting UnifyCR</a></li>
<li class="toctree-l1"><a class="reference internal" href="start-stop.html">Starting &amp; Stopping</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">UnifyCR</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Assumptions</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/assumptions.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="assumptions">
<h1>Assumptions<a class="headerlink" href="#assumptions" title="Permalink to this headline">¶</a></h1>
<p>In this section, we provide assumptions we make about the behavior of
applications that use UnifyCR, and about how UnifyCR currently functions.</p>
<div class="section" id="application-behavior">
<h2>Application Behavior<a class="headerlink" href="#application-behavior" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul>
<li><p class="first">Workload supported is globally synchronous checkpointing.</p>
</li>
<li><p class="first">I/O occurs in write and read phases. Files are not read and written at
the same time. There is some (good) amount of time between the two phases.</p>
<blockquote>
<div><p>For example, files are written during checkpoint phases and only read
during recovery or restart.</p>
</div></blockquote>
</li>
<li><p class="first">Processes on any node can read any byte in the file (not just local
data), but the common case will be processes read only their local bytes.</p>
</li>
<li><p class="first">Assume general parallel I/O concurrency semantics where processes can
write to the same offset concurrently. We assume the outcome of concurrent
writes to the same offset or other conflicting concurrent accesses is
undefined. For example, if a command in the job renames a file while the
parallel application is writing to it, the outcome is undefined. It could</p>
<blockquote>
<div><p>be a failure or not, depending on timing.</p>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="consistency-model">
<h2>Consistency Model<a class="headerlink" href="#consistency-model" title="Permalink to this headline">¶</a></h2>
<p>In the first version of UnifyCR, lamination will be explicitly initiated
by a UnifyCR API call. In subsequent versions, we will support implicit
initiation of file lamination. Here, UnifyCR will determine a
file to be laminated based on conditions, e.g., texttt{fsync} or
texttt{ioctl} calls, or a time out on texttt{close} operations.
As part of the UnifyCR project, we will
investigate these implicit lamination conditions to determine the
best way to enable lamination of files without explicit UnifyCR API calls
being made by the application.</p>
<p>In the first version of UnifyCR, eventually, a process declares the file to be
laminated through a UnifyCR API call.
After a file has been laminated, the contents of the file cannot be changed.
The file becomes permanently read-only.
After lamination, any process may freely read any part of the file.
If the application process group fails before a file has been laminated,
UnifyCR may delete the file.
An application can delete a laminated file.</p>
<p>We define the laminated consistency model to enable certain optimizations
while supporting the perceived requirements of application checkpoints.
Since remote processes are not permitted to read arbitrary bytes within the
file until lamination,
global exchange of file data and/or data index information can be buffered
locally on each node until the point of lamination.
Since file contents cannot change after lamination,
aggressive caching may be used during the read-only phase with minimal locking.
Since a file may be lost on application failure unless laminated,
data redundancy schemes can be delayed until lamination.</p>
<p>Behavior before lamination:</p>
<blockquote>
<div><ul class="simple">
<li>open/close: A process may open/close a file multiple times.</li>
<li>write: A process may write to any part of a file. If two processes write
to the same location, the value is undefined.</li>
<li>read: A process may read bytes it has written. Reading other bytes is
invalid.</li>
<li>rename: A process may rename a file.</li>
<li>truncate: A process may truncate a file.</li>
<li>unlink: A process may delete a file.</li>
</ul>
</div></blockquote>
<p>Behavior after lamination:</p>
<blockquote>
<div><ul class="simple">
<li>open/close: A process may open/close a file multiple times.</li>
<li>write: All writes are invalid.</li>
<li>read: A process may read any byte in the file.</li>
<li>rename: A process may rename a file.</li>
<li>truncate: Truncation is invalid (considered to be a write operation).</li>
<li>unlink: A process may delete a file.</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="file-system-behavior">
<h2>File System Behavior<a class="headerlink" href="#file-system-behavior" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li>The file system exists on node local storage only and is not persisted to
stable storage like a parallel file system (PFS). Can be coupled with</li>
<li>SymphonyFS or high level I/O or checkpoint library (VeloC) to move data to
PFS periodically, or data can be moved manually</li>
<li>Can be used with checkpointing libraries (VeloC) or I/O libraries to
support shared files on burst buffers</li>
<li>File system starts empty at job start. User job must populate the file
system.</li>
<li>Shared file system namespace across all compute nodes in a job, even if
an application process is not running on all compute nodes</li>
<li>Survives application termination and/or relaunch within a job</li>
<li>Will transparently intercept system level I/O calls of applications and
I/O libraries</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="system-characteristics">
<h2>System Characteristics<a class="headerlink" href="#system-characteristics" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li>There is some storage available for storing file data on a compute node,
e.g. SSD or RAM disk</li>
<li>We can run user-level daemon processes on compute nodes concurrently with
a user application</li>
</ul>
</div></blockquote>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="build-intercept.html" class="btn btn-neutral float-right" title="Build &amp; I/O Interception" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="definitions.html" class="btn btn-neutral" title="Definitions" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Lawrence Livermore National Security LLC LLNL-CODE-741539, UT-Batelle LLC.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.1',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>